# Zenn Scrap TOC Chrome拡張機能

ZennのScrapページに目次（Table of Contents）機能を追加するChrome拡張機能です。

## 機能

- 📑 **自動目次生成**: Scrapページ内の見出し（H1〜H3）を自動的に検出して目次を生成
- 🎯 **スムーススクロール**: 目次項目をクリックすると該当セクションへスムーズにスクロール
- 🔍 **スクロール連動**: 現在表示中のセクションを自動的にハイライト表示
- 📱 **レスポンシブ対応**: デスクトップとモバイルの両方に対応
- 🌙 **ダークモード対応**: Zennのダークモードに自動対応
- 💾 **状態保存**: 目次の開閉状態をローカルストレージに保存

## インストール方法

### 開発者モードでのインストール

1. このリポジトリをクローンまたはダウンロード
   ```bash
   git clone https://github.com/yourusername/zenn-scrap-toc.git
   ```

2. Chromeで `chrome://extensions/` を開く

3. 右上の「デベロッパーモード」をオンにする

4. 「パッケージ化されていない拡張機能を読み込む」をクリック

5. ダウンロードしたフォルダを選択

## 使い方

1. インストール後、ZennのScrapページ（`https://zenn.dev/*/scraps/*`）にアクセス

2. ページの右側に目次パネルが自動的に表示されます

3. 目次の項目をクリックすると、該当のセクションにジャンプします

4. スクロールすると、現在表示中のセクションが自動的にハイライトされます

5. ▼/▶ボタンをクリックすると目次の表示/非表示を切り替えられます

## 機能詳細

### 目次の階層表示
- **H1**: 大見出し（太字で表示）
- **H2**: 中見出し（インデント付き）
- **H3**: 小見出し（さらにインデント）

### モバイル対応
- 画面幅1200px以下で自動的にモバイルモードに切り替わります
- モバイルモードでは、画面右下にフローティングボタンとして表示されます

### ダークモード
- Zennのテーマ設定に自動的に追従します
- ライトモード/ダークモードの切り替えに対応

## 技術仕様

- **Manifest Version**: 3
- **対応ブラウザ**: Google Chrome, Microsoft Edge（Chromium版）
- **必要な権限**:
  - `storage`: 設定の保存用
  - `https://zenn.dev/*`: Zennサイトへのアクセス

## ファイル構成

```
zenn-scrap-toc/
├── manifest.json       # Chrome拡張機能の設定ファイル
├── content.js         # メインのコンテンツスクリプト
├── styles.css         # スタイルシート
├── icons/             # アイコンファイル
│   ├── icon16.png
│   ├── icon32.png
│   ├── icon48.png
│   └── icon128.png
└── README.md          # このファイル
```

## トラブルシューティング

### 目次が表示されない場合
- ページを再読み込みしてください
- 拡張機能が有効になっているか確認してください
- Scrapページであることを確認してください（Articleページでは動作しません）

### 目次の位置がおかしい場合
- ウィンドウをリサイズするか、ページを再読み込みしてください

## 今後の改善予定

- [ ] 目次の表示位置のカスタマイズ機能
- [ ] 見出しレベルの表示/非表示設定
- [ ] キーボードショートカット対応
- [ ] 目次の検索機能
- [ ] エクスポート機能

## ライセンス

MIT License

## 作者

[Your Name]

## 貢献

Issue報告やPull Requestは歓迎します！

## 更新履歴

詳細な更新履歴は[CHANGELOG.md](./CHANGELOG.md)をご覧ください。